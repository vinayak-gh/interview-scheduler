<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Login - Interview Scheduler</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="min-h-screen bg-cover bg-center flex items-center justify-center"
      style="background-image: url('https://images.unsplash.com/photo-1551836022-d5d88e9218df');">

<!-- Overlay -->
<div class="absolute inset-0 bg-black bg-opacity-60"></div>

<!-- Login Card -->
<div class="relative bg-white shadow-2xl rounded-2xl p-8 w-96 z-10">
    <h1 class="text-3xl font-bold mb-6 text-center text-gray-800">Login</h1>
    <form id="loginForm" class="space-y-4">
        <input type="email" id="email" placeholder="Email"
               class="w-full px-4 py-2 border rounded-xl focus:ring-2 focus:ring-blue-500" required />
        <input type="password" id="password" placeholder="Password"
               class="w-full px-4 py-2 border rounded-xl focus:ring-2 focus:ring-blue-500" required />

        <!-- Gradient Button -->
        <button type="submit"
                class="w-full bg-gradient-to-r from-blue-600 via-purple-600 to-pink-500 text-white py-2 rounded-xl hover:opacity-90 transition font-semibold">
            Login
        </button>
    </form>
    <p class="text-sm text-gray-600 mt-4 text-center">
        Donâ€™t have an account? <a href="register.html" class="text-blue-600 font-medium hover:underline">Register</a>
    </p>

    <!-- Realistic Welcome Text with Colors -->
    <div class="mt-6 text-center">
        <p class="text-lg font-semibold bg-gradient-to-r from-blue-600 via-purple-600 to-pink-500 bg-clip-text text-transparent">
            Welcome to Interview Scheduler ðŸš€
        </p>
        <p class="mt-2 text-sm text-gray-700">
            <span class="text-blue-600 font-medium">Schedule interviews</span>,
            <span class="text-green-600 font-medium">track candidates</span>,
            and manage <span class="text-purple-600 font-medium">interviewer availability</span>
            all in one place.
        </p>
    </div>
</div>

<script>
    document.getElementById("loginForm").addEventListener("submit", async (e) => {
      e.preventDefault();
      const email = document.getElementById("email").value;
      const password = document.getElementById("password").value;

      try {
        const res = await fetch("/api/users/login", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ email, password })
        });

        const message = await res.text();  // âœ… backend returns plain String

        if (res.ok) {
          alert(message);  // e.g. "Login successful!"
          window.location.href = "dashboard.html";
        } else {
          alert("Login failed: " + message);
        }
      } catch (err) {
        alert("Error connecting to backend");
      }
    });
</script>
</body>
</html>
